<!DOCTYPE html>
<html>
<head>
	<link href='https://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="jquery.js"></script>
</head>
<body>


	<button onclick="settimer()"> timer </button>
	<button onclick="hidetimer()"> hide </button>


	<div id="countdown-content"> 
		<div id="countdowntext"> GO TO CLASS </div>
		<div id="countdown">  </div>
	</div>


	<script>
		var starttime;
		var currenttime = 0;
		var countdown = 60;
		var check = true;
		var hidden = true;
		var timer;

		var schedule;

		function settimer(){
			document.getElementById("countdowntext").style.display = 'block';
			starttime = Date.now();
			timer = setInterval(updatetime, 13);
		}

		function updatetime(){
			if(countdown > 0){
				currenttime = Date.now();
				countdown = parseFloat(Math.round(60000-(currenttime-starttime))/1000).toFixed(2);
				document.getElementById("countdown").innerHTML = countdown;
				console.log(countdown);	
			}
			else {
				timer = null;
				countdown = 0;
			}
		}

		function hidetimer(){
			if(hidden) {
				document.getElementById("countdown-content").style.display = 'none';
				document.getElementById("countdowntext").style.display = 'none';
			}
			else {
				document.getElementById("countdown-content").style.display = 'block';
				document.getElementById("countdowntext").style.display = 'block';
			}
			hidden = !hidden;
		}

		function parseschedule(res){
			schedule = res.split(/\r?\n/);
			console.log(schedule);
		}

		$.get({
			url: "http://kvfrans.com:8044/schedule.txt",
			type: 'GET',
			success: function(res) {
				parseschedule(res);
			}
		});

		</script>

</body>
</html>